import{j as e}from"./ui-vendor-B31_whDI.js";import{r as o}from"./react-vendor-DpO94axI.js";import{e as S,c as d,u as E,B as m,C as c,a as p,b as f,d as n}from"./index-DM4jLR1H.js";import{S as M,V as z,u as L,M as V,I as D}from"./VideoCompressorSidebar-vp_cac6X.js";import{B as j}from"./badge-BUzB-rHp.js";import{g as A,b as I,c as q,e as P}from"./storage-NtJczFQT.js";import{D as w}from"./download-CqxjUFrq.js";import{T as _}from"./trash-2-Bxz4DTcY.js";import{F as C}from"./file-video-BrETnZz9.js";import{C as G}from"./clock-CIrfGpXT.js";import"./utils-vendor-CYC2HZ_g.js";import"./query-vendor-DSb9RFWi.js";import"./router-vendor-DUE0sPVx.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=S("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=S("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),T=o.forwardRef(({className:a,...t},s)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:s,className:d("w-full caption-bottom text-sm",a),...t})}));T.displayName="Table";const H=o.forwardRef(({className:a,...t},s)=>e.jsx("thead",{ref:s,className:d("[&_tr]:border-b",a),...t}));H.displayName="TableHeader";const k=o.forwardRef(({className:a,...t},s)=>e.jsx("tbody",{ref:s,className:d("[&_tr:last-child]:border-0",a),...t}));k.displayName="TableBody";const K=o.forwardRef(({className:a,...t},s)=>e.jsx("tfoot",{ref:s,className:d("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...t}));K.displayName="TableFooter";const u=o.forwardRef(({className:a,...t},s)=>e.jsx("tr",{ref:s,className:d("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...t}));u.displayName="TableRow";const l=o.forwardRef(({className:a,...t},s)=>e.jsx("th",{ref:s,className:d("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...t}));l.displayName="TableHead";const i=o.forwardRef(({className:a,...t},s)=>e.jsx("td",{ref:s,className:d("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...t}));i.displayName="TableCell";const Q=o.forwardRef(({className:a,...t},s)=>e.jsx("caption",{ref:s,className:d("mt-4 text-sm text-muted-foreground",a),...t}));Q.displayName="TableCaption";function U(){const{toggleSidebar:a}=L(),{toast:t}=E(),[s,b]=o.useState(""),[x,N]=o.useState([]),[h,y]=o.useState({totalCompressions:0,totalSpaceSaved:0,avgCompression:0});o.useEffect(()=>{const r=()=>{const B=A();N(B),y(I())};r();const v=()=>r();return window.addEventListener("storage",v),()=>window.removeEventListener("storage",v)},[]);const g=o.useMemo(()=>x.filter(r=>r.fileName.toLowerCase().includes(s.toLowerCase())),[x,s]),R=()=>{q(),N([]),y({totalCompressions:0,totalSpaceSaved:0,avgCompression:0}),t({title:"History Cleared",description:"All compression history has been cleared."})},F=()=>{if(x.length===0){t({title:"No History to Export",description:"There's no compression history to export.",variant:"destructive"});return}P(),t({title:"History Exported",description:"Compression history has been exported as CSV."})};return e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("header",{className:"h-14 border-b bg-background flex items-center px-4 lg:hidden",children:[e.jsx(m,{variant:"ghost",size:"sm",onClick:a,className:"mr-2",children:e.jsx(V,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-semibold",children:"History"})]}),e.jsxs("div",{className:"flex-1 p-4 lg:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Compression History"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"View and manage your video compression history"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{variant:"outline",onClick:F,children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Export"]}),e.jsxs(m,{variant:"outline",onClick:R,children:[e.jsx(_,{className:"w-4 h-4 mr-2"}),"Clear All"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(c,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Total Compressions"}),e.jsx(C,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsx("div",{className:"text-2xl font-bold text-video-primary",children:h.totalCompressions})})]}),e.jsxs(c,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Space Saved"}),e.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsxs("div",{className:"text-2xl font-bold text-video-success",children:[(h.totalSpaceSaved/(1024*1024*1024)).toFixed(1)," GB"]})})]}),e.jsxs(c,{children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(f,{className:"text-sm font-medium",children:"Avg. Compression"}),e.jsx(G,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(n,{children:e.jsxs("div",{className:"text-2xl font-bold text-video-warning",children:[h.avgCompression.toFixed(0),"%"]})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(D,{placeholder:"Search by filename...",value:s,onChange:r=>b(r.target.value),className:"max-w-sm"})]}),g.length>0?e.jsx(c,{children:e.jsx(n,{className:"p-0",children:e.jsxs(T,{children:[e.jsx(H,{children:e.jsxs(u,{children:[e.jsx(l,{children:"File Name"}),e.jsx(l,{children:"Original Size"}),e.jsx(l,{children:"Compressed Size"}),e.jsx(l,{children:"Saved"}),e.jsx(l,{children:"Preset"}),e.jsx(l,{children:"Date & Time"}),e.jsx(l,{children:"Status"})]})}),e.jsx(k,{children:g.map(r=>e.jsxs(u,{children:[e.jsx(i,{className:"font-medium",children:r.fileName}),e.jsxs(i,{children:[(r.originalSize/(1024*1024)).toFixed(1)," MB"]}),e.jsxs(i,{children:[(r.compressedSize/(1024*1024)).toFixed(1)," MB"]}),e.jsx(i,{children:e.jsxs(j,{variant:"secondary",className:"bg-video-success/10 text-video-success",children:[r.compressionRatio.toFixed(1),"%"]})}),e.jsx(i,{children:e.jsx(j,{variant:"outline",children:r.preset})}),e.jsx(i,{children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[e.jsx(O,{className:"w-3 h-3"}),r.date," ",r.time]})}),e.jsx(i,{children:e.jsx(j,{className:"bg-video-success text-white",children:r.status})})]},r.id))})]})})}):e.jsx(c,{children:e.jsxs(n,{className:"text-center py-12",children:[e.jsx(C,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No compression history found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:s?"No results match your search.":"Start compressing videos to see your history here."}),s&&e.jsx(m,{variant:"outline",onClick:()=>b(""),children:"Clear Search"})]})})]})]})}function de(){return e.jsx(M,{children:e.jsxs("div",{className:"flex min-h-screen w-full",children:[e.jsx(z,{}),e.jsx(U,{})]})})}export{de as default};
