import{j as e,P as Q,O as Z,v as J,w as pe,T as Y,x as ee,y as fe,z as xe,E as ve}from"./ui-vendor-B31_whDI.js";import{r,R as _}from"./react-vendor-DpO94axI.js";import{b as he}from"./router-vendor-DUE0sPVx.js";import{e as te,c as M,X as ge,C as ye,a as be,b as je,B as k,d as Ne}from"./index-DM4jLR1H.js";import{S as we}from"./constants-D_o-vATH.js";import{U as F}from"./upload-BraCPvX2.js";import{F as Ce}from"./file-video-BrETnZz9.js";import{B as ke}from"./badge-BUzB-rHp.js";import{F as C,k as G,h as Me,l as K,f as H,m as Pe,n as Ve,o as De,p as Re,q as Se,r as Ee,s as $e}from"./icons-vendor-BrFV68z2.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=te("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=te("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),V={title:"ClipSqueeze - Free Online Video Compression & Repair Tool",description:"Compress videos online for free with ClipSqueeze. Reduce video file size up to 90% while maintaining quality. Repair corrupted videos, fix metadata issues, and optimize for sharing. No registration required, works in any browser.",keywords:"video compression, online video compressor, free video compression, video file size reducer, video repair, corrupted video fix, video optimization, MP4 compression, video converter, web video tools",image:"https://clip-squeeze.brastyphler.click/logo.png",type:"website",author:"ClipSqueeze",url:"https://clip-squeeze.brastyphler.click"},se=({title:t=V.title,description:a=V.description,keywords:n=V.keywords,image:i=V.image,url:m,type:d=V.type,author:p=V.author,publishedTime:l,modifiedTime:c,section:v,tags:w=[]})=>{const h=he(),g=m||`https://clip-squeeze.brastyphler.click${h.pathname}`;return r.useEffect(()=>{document.title=t;const N=(o,u)=>{let x=document.querySelector(`meta[name="${o}"]`);x||(x=document.createElement("meta"),x.name=o,document.head.appendChild(x)),x.content=u},f=(o,u)=>{let x=document.querySelector(`meta[property="${o}"]`);x||(x=document.createElement("meta"),x.setAttribute("property",o),document.head.appendChild(x)),x.content=u};N("title",t),N("description",a),N("keywords",n),N("author",p),f("og:title",t),f("og:description",a),f("og:image",i),f("og:url",g),f("og:type",d),f("twitter:title",t),f("twitter:description",a),f("twitter:image",i),f("twitter:url",g),l&&f("article:published_time",l),c&&f("article:modified_time",c),v&&f("article:section",v),w.length>0&&w.forEach(o=>{const u=document.createElement("meta");u.setAttribute("property","article:tag"),u.content=o,document.head.appendChild(u)});let s=document.querySelector('link[rel="canonical"]');s||(s=document.createElement("link"),s.rel="canonical",document.head.appendChild(s)),s.href=g},[t,a,n,i,g,d,p,l,c,v,w]),null},ot=()=>e.jsx(se,{title:"Video Compression - ClipSqueeze | Free Online Video Compressor",description:"Compress videos online for free with ClipSqueeze. Reduce video file size up to 90% while maintaining quality. Support for MP4, AVI, MOV, MKV, and more formats.",keywords:"video compression, online video compressor, free video compression, MP4 compression, video file size reducer, video optimization",section:"Video Compression"}),it=()=>e.jsx(se,{title:"Video Repair - ClipSqueeze | Fix Corrupted Videos Online",description:"Repair corrupted videos online with ClipSqueeze. Fix metadata issues, container problems, and playback errors. Free video repair tool with no registration required.",keywords:"video repair, corrupted video fix, video metadata repair, video container repair, broken video fix, video playback repair",section:"Video Repair"}),nt=r.memo(({onFilesSelected:t,maxFiles:a=10,maxFileSize:n=10*1024*1024*1024,disabled:i=!1,className:m})=>{const[d,p]=r.useState(!1),[l,c]=r.useState([]),[v,w]=r.useState(!1),h=r.useCallback(async s=>{var x;const o=[],u=[];w(!0);try{for(const j of Array.from(s)){const P=j.name.toLowerCase();if(P.includes("..")||P.includes("\\")||P.includes("/")){u.push(`${j.name}: Invalid file name`);continue}const S=(x=j.name.split(".").pop())==null?void 0:x.toLowerCase(),$=S&&/^(mp4|avi|mov|mkv|wmv|flv|webm|3gp|ogv|m4v|qt)$/i.test(S);if(!we.includes(j.type)&&!$){u.push(`${j.name}: Unsupported format`);continue}if(j.size>n){const D=Math.round(j.size/1048576),R=Math.round(n/(1024*1024));u.push(`${j.name}: File too large (${D}MB > ${R}MB)`);continue}if(j.size===0){u.push(`${j.name}: File is empty`);continue}o.push(j)}if(o.length>a)return u.push(`Too many files selected. Maximum ${a} files allowed.`),{valid:[],errors:u}}catch(j){console.error("File validation error:",j),u.push("An error occurred while validating files. Please try again.")}finally{w(!1)}return{valid:o,errors:u}},[a,n]),g=r.useCallback(s=>{s.preventDefault(),s.stopPropagation(),s.type==="dragenter"||s.type==="dragover"?p(!0):s.type==="dragleave"&&p(!1)},[]),N=r.useCallback(async s=>{if(s.preventDefault(),s.stopPropagation(),p(!1),i||v)return;const o=s.dataTransfer.files;if(o!=null&&o.length){const{valid:u,errors:x}=await h(o);c(x),u.length>0&&t(u)}},[t,i,h,v]),f=r.useCallback(async s=>{const o=s.target.files;if(o!=null&&o.length){w(!0);try{const{valid:u,errors:x}=await h(o);c(x),u.length>0&&t(u)}catch(u){console.error("File input error:",u),c(["An error occurred while processing files. Please try again."])}finally{w(!1)}}s.target.value=""},[t,h]);return e.jsxs("div",{className:M("w-full",m),children:[e.jsxs("div",{className:M("relative border-2 border-dashed rounded-lg p-6 text-center transition-smooth cursor-pointer","hover:border-video-primary hover:bg-drop-zone-bg/50",{"border-drop-zone-active bg-video-primary/5":d,"border-drop-zone-border bg-drop-zone-bg":!d,"opacity-50 cursor-not-allowed":i}),onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:N,onClick:()=>{var s;return!i&&((s=document.getElementById("file-input"))==null?void 0:s.click())},role:"button",tabIndex:i?-1:0,"aria-label":"File upload area","aria-describedby":"dropzone-description",onKeyDown:s=>{var o;(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),i||(o=document.getElementById("file-input"))==null||o.click())},children:[e.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:"video/*,.mp4,.avi,.mov,.mkv,.wmv,.flv,.webm,.3gp,.ogv,.m4v,.qt",onChange:f,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:i,"aria-label":"Select video files",title:"Select video files to compress"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:M("w-16 h-16 rounded-full flex items-center justify-center transition-smooth",d?"bg-video-primary text-white":v?"bg-video-primary text-white animate-pulse":"bg-video-secondary text-muted-foreground"),children:v?e.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"}):d?e.jsx(F,{className:"w-8 h-8"}):e.jsx(Ce,{className:"w-8 h-8"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:v?"Processing files...":d?"Drop your videos here":"Select or drop video files"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Supports MP4, AVI, MOV, MKV, WMV, FLV, WebM, 3GP, OGV, M4V, QT"}),e.jsxs("p",{id:"dropzone-description",className:"text-xs text-muted-foreground",children:["Maximum ",a," files • Up to ",Math.round(n/(1024*1024*1024)),"GB per file"]})]}),!i&&!v&&e.jsxs("div",{className:"flex items-center gap-2 text-video-primary",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Click to browse or drag & drop"})]})]})]}),l.length>0&&e.jsx("div",{className:"mt-4 space-y-2",children:l.map((s,o)=>e.jsxs("div",{className:"flex items-start gap-2 p-3 bg-video-danger/10 border border-video-danger/20 rounded-md",children:[e.jsx(ze,{className:"w-4 h-4 text-video-danger mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-video-danger",children:s})]},o))}),e.jsx("div",{className:"mt-4 p-3 bg-video-info/10 border border-video-info/20 rounded-md",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Oe,{className:"w-4 h-4 text-video-info mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-sm text-video-info",children:[e.jsx("div",{className:"font-medium mb-1",children:"Supported Formats:"}),e.jsx("div",{className:"text-xs opacity-80",children:"MP4, AVI, MOV, MKV, WMV, FLV, WebM, 3GP, OGV, M4V, QT"})]})]})})]})});function Te(t,a=[]){let n=[];function i(d,p){const l=r.createContext(p),c=n.length;n=[...n,p];function v(h){const{scope:g,children:N,...f}=h,s=(g==null?void 0:g[t][c])||l,o=r.useMemo(()=>f,Object.values(f));return e.jsx(s.Provider,{value:o,children:N})}function w(h,g){const N=(g==null?void 0:g[t][c])||l,f=r.useContext(N);if(f)return f;if(p!==void 0)return p;throw new Error(`\`${h}\` must be used within \`${d}\``)}return v.displayName=d+"Provider",[v,w]}const m=()=>{const d=n.map(p=>r.createContext(p));return function(l){const c=(l==null?void 0:l[t])||d;return r.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return m.scopeName=t,[i,Le(m,...a)]}function Le(...t){const a=t[0];if(t.length===1)return a;const n=()=>{const i=t.map(m=>({useScope:m(),scopeName:m.scopeName}));return function(d){const p=i.reduce((l,{useScope:c,scopeName:v})=>{const h=c(d)[`__scope${v}`];return{...l,...h}},{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:p}),[p])}};return n.scopeName=a.scopeName,n}var U="Progress",A=100,[Ue,lt]=Te(U),[Ae,Ie]=Ue(U),ae=r.forwardRef((t,a)=>{const{__scopeProgress:n,value:i=null,max:m,getValueLabel:d=qe,...p}=t;(m||m===0)&&!W(m)&&console.error(Be(`${m}`,"Progress"));const l=W(m)?m:A;i!==null&&!X(i,l)&&console.error(_e(`${i}`,"Progress"));const c=X(i,l)?i:null,v=E(c)?d(c,l):void 0;return e.jsx(Ae,{scope:n,value:c,max:l,children:e.jsx(Q.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":E(c)?c:void 0,"aria-valuetext":v,role:"progressbar","data-state":ie(c,l),"data-value":c??void 0,"data-max":l,...p,ref:a})})});ae.displayName=U;var re="ProgressIndicator",oe=r.forwardRef((t,a)=>{const{__scopeProgress:n,...i}=t,m=Ie(re,n);return e.jsx(Q.div,{"data-state":ie(m.value,m.max),"data-value":m.value??void 0,"data-max":m.max,...i,ref:a})});oe.displayName=re;function qe(t,a){return`${Math.round(t/a*100)}%`}function ie(t,a){return t==null?"indeterminate":t===a?"complete":"loading"}function E(t){return typeof t=="number"}function W(t){return E(t)&&!isNaN(t)&&t>0}function X(t,a){return E(t)&&!isNaN(t)&&t<=a&&t>=0}function Be(t,a){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${a}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${A}\`.`}function _e(t,a){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${a}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${A} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ne=ae,Fe=oe;const Ge=r.forwardRef(({className:t,value:a,...n},i)=>e.jsx(ne,{ref:i,className:M("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:e.jsx(Fe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})}));Ge.displayName=ne.displayName;const Ke=fe,He=xe,We=ve,le=r.forwardRef(({className:t,...a},n)=>e.jsx(Z,{ref:n,className:M("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));le.displayName=Z.displayName;const ce=r.forwardRef(({className:t,children:a,...n},i)=>e.jsxs(We,{children:[e.jsx(le,{}),e.jsxs(J,{ref:i,className:M("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[a,e.jsxs(pe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ce.displayName=J.displayName;const de=({className:t,...a})=>e.jsx("div",{className:M("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});de.displayName="DialogHeader";const ue=r.forwardRef(({className:t,...a},n)=>e.jsx(Y,{ref:n,className:M("text-lg font-semibold leading-none tracking-tight",t),...a}));ue.displayName=Y.displayName;const Xe=r.forwardRef(({className:t,...a},n)=>e.jsx(ee,{ref:n,className:M("text-sm text-muted-foreground",t),...a}));Xe.displayName=ee.displayName;const ct=r.memo(({originalFile:t,compressedBlob:a,originalSize:n,compressedSize:i,onDownload:m})=>{const[d,p]=r.useState(!1),[l,c]=r.useState("compressed"),[v,w]=r.useState(0),[h,g]=r.useState(0),[N,f]=r.useState(!1),s=r.useRef(null),[o,u]=r.useState(""),[x,j]=r.useState("");_.useEffect(()=>{const b=URL.createObjectURL(t);u(b);let y;return a&&(y=URL.createObjectURL(a),j(y)),()=>{URL.revokeObjectURL(b),y&&URL.revokeObjectURL(y)}},[t,a]);const P=r.useCallback(()=>{s.current&&(d?s.current.pause():s.current.play(),p(!d))},[d]),S=r.useCallback(()=>{s.current&&w(s.current.currentTime)},[]),$=r.useCallback(()=>{s.current&&g(s.current.duration)},[]),I=r.useCallback(()=>{s.current&&f(s.current.muted)},[]),D=r.useCallback(b=>{s.current&&(s.current.currentTime=b)},[]),R=r.useCallback(()=>{s.current&&(s.current.currentTime=Math.min(s.current.currentTime+10,h))},[h]),z=r.useCallback(()=>{s.current&&(s.current.currentTime=Math.max(s.current.currentTime-10,0))},[]),O=r.useCallback(()=>{s.current&&(s.current.muted=!s.current.muted,f(s.current.muted))},[]);_.useEffect(()=>{const b=y=>{if(s.current)switch(y.key){case" ":y.preventDefault(),P();break;case"ArrowRight":y.preventDefault(),R();break;case"ArrowLeft":y.preventDefault(),z();break;case"Home":y.preventDefault(),D(0);break;case"End":y.preventDefault(),D(h);break;case"m":case"M":y.preventDefault(),O();break}};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[h,R,P,z,D,O]);const q=b=>{const y=Math.floor(b/60),L=Math.floor(b%60);return`${y}:${L.toString().padStart(2,"0")}`},T=b=>{if(b===0)return"0 Bytes";const y=1024,L=["Bytes","KB","MB","GB"],B=Math.floor(Math.log(b)/Math.log(y));return parseFloat((b/Math.pow(y,B)).toFixed(2))+" "+L[B]},me=i?(n-i)/n*100:0;return e.jsxs(ye,{className:"w-full",children:[e.jsx(be,{children:e.jsxs(je,{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{icon:G,className:"text-video-primary"}),e.jsx("span",{className:"truncate",children:t.name})]}),a&&e.jsxs(k,{onClick:m,size:"sm",className:"bg-yellow-500 hover:bg-yellow-600 text-white",children:[e.jsx(C,{icon:Me,className:"mr-2"}),"Download"]})]})}),e.jsxs(Ne,{className:"space-y-4",children:[e.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden aspect-video max-h-[40vh] sm:max-h-[50vh] lg:max-h-none",children:[o&&e.jsx("video",{ref:s,src:l==="original"?o:x||o,className:"w-full h-full object-contain",onPlay:()=>p(!0),onPause:()=>p(!1),onTimeUpdate:S,onLoadedMetadata:$,onVolumeChange:I,onError:b=>{console.error("Video playback error:",b),l==="compressed"&&x&&c("original")},controls:!0,playsInline:!0,preload:"metadata",crossOrigin:"anonymous","aria-label":`Video player for ${t.name}`,title:t.name},`${l}-${o}`),e.jsx("div",{className:"absolute inset-0 bg-black/20 opacity-0 hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(k,{onClick:P,variant:"secondary",size:"lg",className:"bg-white/90 hover:bg-white text-black","aria-label":d?"Pause video":"Play video",children:e.jsx(C,{icon:d?K:H})}),e.jsxs(Ke,{children:[e.jsx(He,{asChild:!0,children:e.jsx(k,{variant:"secondary",size:"lg",className:"bg-white/90 hover:bg-white text-black","aria-label":"Open video in fullscreen",children:e.jsx(C,{icon:Pe})})}),e.jsxs(ce,{className:"max-w-4xl w-full p-2",children:[e.jsx(de,{children:e.jsx(ue,{className:"truncate",children:t.name})}),e.jsx("div",{className:"aspect-video bg-black rounded-lg overflow-hidden",children:o&&e.jsx("video",{src:l==="original"?o:x||o,className:"w-full h-full object-contain",controls:!0},`dialog-${l}-${o}`)})]})]})]})})]}),h>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[e.jsx("span",{children:q(v)}),e.jsx("span",{children:q(h)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"outline",size:"sm",onClick:z,className:"flex-1","aria-label":"Skip backward 10 seconds",children:[e.jsx(C,{icon:Ve,className:"mr-1"}),"-10s"]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:P,className:"flex-1","aria-label":d?"Pause video":"Play video",children:[e.jsx(C,{icon:d?K:H,className:"mr-1"}),d?"Pause":"Play"]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:R,className:"flex-1","aria-label":"Skip forward 10 seconds",children:[e.jsx(C,{icon:De,className:"mr-1"}),"+10s"]}),e.jsxs(k,{variant:"outline",size:"sm",onClick:O,className:"flex-1","aria-label":N?"Unmute video":"Mute video",children:[e.jsx(C,{icon:N?Re:Se,className:"mr-1"}),N?"Unmute":"Mute"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:"Keyboard: Space (play/pause) • ← → (skip 10s) • M (mute) • Home/End (start/end)"})]}),a&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(k,{variant:l==="original"?"default":"outline",size:"sm",onClick:()=>c("original"),className:"flex-1",children:"Original"}),e.jsx(k,{variant:l==="compressed"?"default":"outline",size:"sm",onClick:()=>c("compressed"),className:"flex-1",children:"Compressed"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(C,{icon:G,className:"text-muted-foreground"}),"Original"]}),e.jsx("div",{className:"text-2xl font-bold",children:T(n)})]}),i&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(C,{icon:Ee,className:"text-video-primary"}),"Compressed"]}),e.jsx("div",{className:"text-2xl font-bold text-video-success",children:T(i)})]})]}),i&&e.jsxs("div",{className:"pt-4 border-t space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{icon:$e,className:"text-video-primary"}),e.jsx("span",{className:"font-medium",children:"Compression Stats"})]}),e.jsxs(ke,{variant:"secondary",className:"bg-video-success/10 text-video-success",children:[me.toFixed(1),"% saved"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Size Reduction"}),e.jsx("div",{className:"font-medium",children:T(n-i)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"New Size Ratio"}),e.jsxs("div",{className:"font-medium",children:[(i/n*100).toFixed(1),"%"]})]})]})]})]})]})});export{Oe as C,nt as D,Ge as P,ct as V,ot as a,it as b};
